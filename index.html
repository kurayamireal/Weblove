<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web ƒê·∫øm Ng√†y Y√™u</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Poppins', sans-serif;
            color: #fff;
            text-align: center;
            min-height: 100vh;
            background-attachment: fixed;
            transition: background 2.5s ease-in-out;
            overflow-x: hidden;
            position: relative;
        }
        .spring { background: linear-gradient(135deg, #ffb6c1, #ffc0cb, #ff69b4); }
        .summer { background: linear-gradient(135deg, #ffd700, #ff8c00, #00bfff); }
        .autumn { background: linear-gradient(135deg, #ff7518, #d2691e, #8b4513); }
        .winter { background: linear-gradient(135deg, #e0ffff, #add8e6, #4682b4); }

        #particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }

        .container {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(14px);
            border-radius: 32px;
            padding: 40px 20px;
            max-width: 740px;
            margin: 40px auto;
            box-shadow: 0 20px 50px rgba(0,0,0,0.35);
            border: 1px solid rgba(255,255,255,0.35);
            position: relative;
            z-index: 1;
            opacity: 0;
            transition: opacity 1s ease;
        }
        .container.loaded { opacity: 1; }

        #loading {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 1s ease;
        }
        #loading.hidden { opacity: 0; pointer-events: none; }
        .loader-heart {
            width: 120px;
            height: 120px;
            position: relative;
            animation: rotate 4s linear infinite;
        }
        .loader-heart::before, .loader-heart::after {
            content: '';
            position: absolute;
            width: 100px;
            height: 160px;
            background: #ff6b6b;
            border-radius: 50px 50px 0 0;
            top: 0;
            left: 10px;
            transform-origin: bottom center;
        }
        .loader-heart::after {
            background: #ff9a9e;
            left: auto;
            right: 10px;
        }
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        #loading-text {
            margin-top: 30px;
            font-family: 'Dancing Script', cursive;
            font-size: 2.8em;
            text-shadow: 0 5px 15px rgba(255,105,180,0.8);
            animation: pulseText 2s infinite;
        }
        @keyframes pulseText {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        h1 { font-family: 'Dancing Script', cursive; font-size: 4em; margin-bottom: 15px; text-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        .subtitle { font-size: 1.5em; opacity: 0.92; margin-bottom: 35px; }

        input, select, textarea, button {
            padding: 16px;
            margin: 12px 6px;
            font-size: 1.15em;
            border: none;
            border-radius: 18px;
            width: 92%;
            max-width: 360px;
        }
        input[type="date"], select, textarea { background: rgba(255,255,255,0.28); color: white; transition: all 0.3s; }
        input:focus, textarea:focus { background: rgba(255,255,255,0.4); outline: none; box-shadow: 0 0 15px rgba(255,255,255,0.5); }
        button {
            background: linear-gradient(90deg, #ff6b6b, #ff8e8e);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 6px 18px rgba(255,107,107,0.45);
        }
        button:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 15px 35px rgba(255,107,107,0.65); }

        .names { font-family: 'Dancing Script', cursive; font-size: 3.5em; margin: 45px 0 25px; text-shadow: 0 5px 15px rgba(0,0,0,0.45); }
        .zodiac { font-size: 1.6em; margin: 20px 0; opacity: 0.92; letter-spacing: 1px; }
        .heart-container {
            position: relative;
            width: 280px;
            height: 260px;
            margin: 45px auto;
            animation: beat 3s infinite ease-in-out;
        }
        @keyframes beat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }
        .heart-outline { width: 280px; height: 260px; fill: none; stroke: #fff; stroke-width: 12; filter: drop-shadow(0 10px 25px rgba(255,105,180,0.7)); }
        .liquid { position: absolute; bottom: 0; left: 0; width: 100%; height: 0; overflow: hidden; transition: height 2s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .wave { position: absolute; width: 200%; height: 100%; background: linear-gradient(to right, #ff6b6b, #ff9a9e); border-radius: 50%; animation: wave 8s linear infinite; bottom: 0; }
        .wave:nth-child(2) { animation-duration: 10s; opacity: 0.7; }
        @keyframes wave { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

        #days { font-family: 'Dancing Script', cursive; font-size: 6.5em; margin: 35px 0 15px; text-shadow: 0 8px 30px rgba(255,105,180,1); animation: pulse 5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.92; } }

        .info, .hours, .years { font-size: 1.5em; margin: 18px 0; letter-spacing: 0.5px; }
        .anniversary-msg, .wedding-section { margin: 35px 0; padding: 25px; background: rgba(255,255,255,0.18); border-radius: 22px; font-size: 1.3em; }
        textarea { height: 130px; resize: vertical; }
        .diary-list { max-height: 420px; overflow-y: auto; margin: 25px auto; width: 92%; max-width: 620px; text-align: left; }
        .diary-entry { background: rgba(255,255,255,0.18); border-radius: 18px; padding: 18px; margin: 15px 0; position: relative; transition: transform 0.3s; }
        .diary-entry:hover { transform: translateY(-5px); }
        .diary-date { font-size: 0.9em; opacity: 0.85; margin-bottom: 10px; }
        .delete-btn { position: absolute; top: 12px; right: 18px; background: rgba(255,0,0,0.65); border: none; color: white; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; font-size: 1.2em; }
        .copyright { font-size: 0.9em; margin-top: 60px; opacity: 0.82; line-height: 1.6; }

        #confetti { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; }
    </style>
</head>
<body class="spring">

<!-- M√†n h√¨nh loading -->
<div id="loading">
    <div class="loader-heart"></div>
    <div id="loading-text">ƒêang ƒë·∫øm ng√†y y√™u c·ªßa ch√∫ng ta... üíï</div>
</div>

<canvas id="particles"></canvas>
<canvas id="confetti"></canvas>

<div class="container" id="mainContent">
    <h1>Web ƒê·∫øm Ng√†y Y√™u</h1>
    <p class="subtitle">H√†nh tr√¨nh y√™u th∆∞∆°ng c·ªßa ch√∫ng ta üíû</p>

    <div class="form-group">
        <p>Ng√†y b·∫Øt ƒë·∫ßu y√™u:</p>
        <input type="date" id="startDate">
    </div>

    <div class="form-group">
        <p>Ng∆∞·ªùi th·ª© nh·∫•t</p>
        <input type="text" id="name1" placeholder="T√™n hi·ªÉn th·ªã">
        <select id="gender1">
            <option value="nam">Nam</option>
            <option value="nu">N·ªØ</option>
            <option value="khac">Kh√°c (LGBTQ+)</option>
        </select>
        <input type="date" id="birth1">
    </div>

    <div class="form-group">
        <p>Ng∆∞·ªùi th·ª© hai</p>
        <input type="text" id="name2" placeholder="T√™n hi·ªÉn th·ªã">
        <select id="gender2">
            <option value="nam">Nam</option>
            <option value="nu">N·ªØ</option>
            <option value="khac">Kh√°c (LGBTQ+)</option>
        </select>
        <input type="date" id="birth2">
    </div>

    <div class="form-group">
        <p>T·ªânh/th√†nh ph·ªë ny ƒëang ·ªü üåç</p>
        <select id="province" class="province-select">
            <option value="">Ch·ªçn t·ªânh/th√†nh</option>
            <!-- Danh s√°ch 34 t·ªânh + 6 th√†nh ph·ªë tr·ª±c thu·ªôc -->
            <option value="An Giang">An Giang</option>
            <option value="B√† R·ªãa - V≈©ng T√†u">B√† R·ªãa - V≈©ng T√†u</option>
            <option value="B√¨nh D∆∞∆°ng">B√¨nh D∆∞∆°ng</option>
            <option value="B√¨nh ƒê·ªãnh">B√¨nh ƒê·ªãnh</option>
            <option value="B√¨nh Ph∆∞·ªõc">B√¨nh Ph∆∞·ªõc</option>
            <option value="B√¨nh Thu·∫≠n">B√¨nh Thu·∫≠n</option>
            <option value="ƒê·∫Øk L·∫Øk">ƒê·∫Øk L·∫Øk</option>
            <option value="ƒê·ªìng Nai">ƒê·ªìng Nai</option>
            <option value="Gia Lai">Gia Lai</option>
            <option value="H√† Giang">H√† Giang</option>
            <option value="H√† Nam">H√† Nam</option>
            <option value="H·∫≠u Giang">H·∫≠u Giang</option>
            <option value="H√≤a B√¨nh">H√≤a B√¨nh</option>
            <option value="Kh√°nh H√≤a">Kh√°nh H√≤a</option>
            <option value="Ki√™n Giang">Ki√™n Giang</option>
            <option value="Kon Tum">Kon Tum</option>
            <option value="L√¢m ƒê·ªìng">L√¢m ƒê·ªìng</option>
            <option value="L·∫°ng S∆°n">L·∫°ng S∆°n</option>
            <option value="L√†o Cai">L√†o Cai</option>
            <option value="Ninh Thu·∫≠n">Ninh Thu·∫≠n</option>
            <option value="Ph√∫ Y√™n">Ph√∫ Y√™n</option>
            <option value="Qu·∫£ng B√¨nh">Qu·∫£ng B√¨nh</option>
            <option value="Qu·∫£ng Nam">Qu·∫£ng Nam</option>
            <option value="Qu·∫£ng Ng√£i">Qu·∫£ng Ng√£i</option>
            <option value="Qu·∫£ng Ninh">Qu·∫£ng Ninh</option>
            <option value="S√≥c TrƒÉng">S√≥c TrƒÉng</option>
            <option value="T√¢y Ninh">T√¢y Ninh</option>
            <option value="Y√™n B√°i">Y√™n B√°i</option>
            <!-- Th√†nh ph·ªë tr·ª±c thu·ªôc -->
            <option value="H√† N·ªôi">H√† N·ªôi</option>
            <option value="TP. H·ªì Ch√≠ Minh">TP. H·ªì Ch√≠ Minh</option>
            <option value="ƒê√† N·∫µng">ƒê√† N·∫µng</option>
            <option value="H·∫£i Ph√≤ng">H·∫£i Ph√≤ng</option>
            <option value="C·∫ßn Th∆°">C·∫ßn Th∆°</option>
            <option value="Th·ª´a Thi√™n Hu·∫ø">Th·ª´a Thi√™n Hu·∫ø</option>
        </select>
    </div>

    <button onclick="updateLove()">C·∫≠p nh·∫≠t & B·∫Øt ƒë·∫ßu ƒë·∫øm ng√†y y√™u</button>

    <div class="names" id="namesDisplay">... üíû ...</div>
    <div class="zodiac" id="zodiacDisplay"></div>

    <div class="heart-container" id="heartBeat">
        <svg viewBox="0 0 260 240">
            <path class="heart-outline" d="M130,240 C190,190 240,140 240,80 C240,30 200,0 130,55 C60,0 20,30 20,80 C20,140 70,190 130,240 Z"/>
        </svg>
        <div class="liquid" id="liquid">
            <div class="wave"></div>
            <div class="wave"></div>
        </div>
    </div>

    <div id="days">0</div>
    <p class="info">Ng√†y ƒëang y√™u nhau</p>

    <div id="hours" class="hours">0 gi·ªù h·∫°nh ph√∫c üíû</div>

    <div id="years"></div>

    <div class="anniversary-msg" id="anniversaryMsg"></div>

    <div class="wedding-section" id="weddingSection" style="display:none;">
        <p><strong>√î hay nh·ªâ! Y√™u nhau 5 nƒÉm r·ªìi, sao ch∆∞a c∆∞·ªõi ƒëi? üòè</strong></p>
        <button onclick="chooseWedding('yes')">C∆∞·ªõi lu√¥n! üíí</button>
        <button onclick="chooseWedding('no')">Ch∆∞a c∆∞·ªõi ƒë√¢u! üòÖ</button>
        <div id="weddingDateSection" style="display:none;">
            <p>Ch·ªçn ng√†y c∆∞·ªõi ƒë·∫πp n√†o ‚ù§Ô∏è</p>
            <input type="date" id="weddingDate">
            <button onclick="setWeddingDate()">X√°c nh·∫≠n</button>
            <p id="weddingDateMsg"></p>
        </div>
        <p id="noWeddingMsg" style="display:none;"></p>
    </div>

    <h2 style="margin: 60px 0 25px;">Nh·∫≠t k√Ω t√¨nh y√™u üìñ</h2>
    <textarea id="diaryInput" placeholder="H√¥m nay anh/em/ny nh·ªõ g√¨ v·ªÅ ch√∫ng ta... üíï"></textarea>
    <button onclick="saveDiary()">L∆∞u k·ª∑ ni·ªám</button>
    <div class="diary-list" id="diaryList"></div>

    <div class="copyright">
        B·∫£n quy·ªÅn thu·ªôc v·ªÅ Kurayami v√† Kai (ho·∫∑c Tenebron).<br>
        C·∫•m m·ªçi h√†nh vi sao ch√©p, ph√¢n ph·ªëi, ch·ªânh s·ª≠a m√† kh√¥ng c√≥ s·ª± cho ph√©p b·∫±ng vƒÉn b·∫£n t·ª´ ch·ªß s·ªü h·ªØu.
    </div>
</div>

<script>
// === PARTICLES L·∫§P L√ÅNH ===
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });

const particlesArray = [];
class Particle {
    constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 3 + 1;
        this.speedX = Math.random() * 0.5 - 0.25;
        this.speedY = Math.random() * 0.5 - 0.25;
    }
    update() {
        this.x += this.speedX;
        this.y += this.speedY;
        if (this.size > 0.2) this.size -= 0.01;
    }
    draw() {
        ctx.fillStyle = 'rgba(255,255,255,0.8)';
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
    }
}

function initParticles() {
    for (let i = 0; i < 80; i++) particlesArray.push(new Particle());
}
initParticles();

function animateParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particlesArray.forEach((p, i) => {
        p.update();
        p.draw();
        if (p.size <= 0.2) {
            particlesArray.splice(i, 1);
            particlesArray.push(new Particle());
        }
    });
    requestAnimationFrame(animateParticles);
}
animateParticles();

// === CONFETTI ===
function launchConfetti() {
    const confettiCanvas = document.getElementById('confetti');
    const ctxConf = confettiCanvas.getContext('2d');
    confettiCanvas.width = window.innerWidth;
    confettiCanvas.height = window.innerHeight;

    const colors = ['#ff6b6b', '#ff9a9e', '#ffffff', '#ffd700', '#ff69b4'];
    const confetti = [];
    for (let i = 0; i < 100; i++) {
        confetti.push({
            x: Math.random() * confettiCanvas.width,
            y: Math.random() * confettiCanvas.height - confettiCanvas.height,
            r: Math.random() * 6 + 4,
            d: Math.random() * 100 + 50,
            color: colors[Math.floor(Math.random() * colors.length)],
            tilt: Math.random() * 10 - 10,
            tiltAngle: 0
        });
    }

    function draw() {
        ctxConf.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
        confetti.forEach((c, i) => {
            c.tiltAngle += 0.1;
            c.y += (Math.cos(c.d) + 3 + c.r / 2) / 2;
            c.tilt = Math.sin(c.tiltAngle) * 15;
            if (c.y > confettiCanvas.height) confetti.splice(i, 1);
            ctxConf.fillStyle = c.color;
            ctxConf.beginPath();
            ctxConf.moveTo(c.x + c.tilt + c.r / 4, c.y);
            ctxConf.lineTo(c.x + c.tilt, c.y + c.tilt + c.r / 4);
            ctxConf.lineTo(c.x + c.tilt - c.r / 4, c.y + c.tilt);
            ctxConf.closePath();
            ctxConf.fill();
        });
        if (confetti.length) requestAnimationFrame(draw);
    }
    draw();
}

// === LOADING & SHOW DAYS ===
window.addEventListener('load', () => {
    setTimeout(() => {
        document.getElementById('loading').classList.add('hidden');
        document.getElementById('mainContent').classList.add('loaded');
        calculateDays(); // Hi·ªán lu√¥n s·ªë ng√†y sau loading
    }, 2800); // 2.8 gi√¢y loading
});

// === C√ÅC H√ÄM CH√çNH ===
function updateLove() {
    const start = document.getElementById('startDate').value;
    if (!start) return alert('Ch·ªçn ng√†y b·∫Øt ƒë·∫ßu y√™u nh√©!');
    localStorage.setItem('startDate', start);
    localStorage.setItem('name1', document.getElementById('name1').value.trim() || 'Ng∆∞·ªùi ·∫•y 1');
    localStorage.setItem('name2', document.getElementById('name2').value.trim() || 'Ng∆∞·ªùi ·∫•y 2');
    localStorage.setItem('gender1', document.getElementById('gender1').value);
    localStorage.setItem('gender2', document.getElementById('gender2').value);
    localStorage.setItem('birth1', document.getElementById('birth1').value);
    localStorage.setItem('birth2', document.getElementById('birth2').value);
    localStorage.setItem('provinceNy', document.getElementById('province').value);
    calculateDays();
    launchConfetti();
}

function calculateDays() {
    const saved = localStorage.getItem('startDate');
    if (!saved) return;

    const n1 = localStorage.getItem('name1') || 'Ng∆∞·ªùi ·∫•y 1';
    const n2 = localStorage.getItem('name2') || 'Ng∆∞·ªùi ·∫•y 2';
    const g1 = localStorage.getItem('gender1') || 'nam';
    const g2 = localStorage.getItem('gender2') || 'nu';
    const b1 = localStorage.getItem('birth1');
    const b2 = localStorage.getItem('birth2');

    let couple = 'üíë';
    if ((g1==='nam'&&g2==='nu')||(g1==='nu'&&g2==='nam')) couple = 'üë©‚Äç‚ù§Ô∏è‚Äçüë®';
    else if (g1==='nam'&&g2==='nam') couple = 'üë®‚Äç‚ù§Ô∏è‚Äçüë®';
    else if (g1==='nu'&&g2==='nu') couple = 'üë©‚Äç‚ù§Ô∏è‚Äçüë©';

    document.getElementById('namesDisplay').innerHTML = `${n1} ${couple} ${n2}`;
    document.getElementById('zodiacDisplay').innerHTML = `${getZodiac(b1)} & ${getZodiac(b2)}`;

    const start = new Date(saved);
    const now = new Date();
    const diff = now - start;
    const days = Math.floor(diff / 86400000) + 1; // Ng√†y b·∫Øt ƒë·∫ßu = 1 ng√†y
    const hours = Math.floor(diff / 3600000) + 1;

    document.getElementById('hours').innerText = `${hours.toLocaleString('vi-VN')} gi·ªù h·∫°nh ph√∫c üíû`;

    const years = Math.floor(days / 365);
    const dayThis = days % 365 || 365;

    document.getElementById('days').innerText = days;
    document.getElementById('liquid').style.height = `${(dayThis / 365) * 100}%`;

    document.getElementById('years').innerText = years ? `NƒÉm th·ª© ${years + 1} üíû` : `NƒÉm ƒë·∫ßu ti√™n üíï`;
}

function getZodiac(birth) {
    if (!birth) return "Ch∆∞a bi·∫øt üåü";
    const d = new Date(birth);
    const m = d.getMonth() + 1, day = d.getDate();
    if ((m==3&&day>=21)||(m==4&&day<=19)) return "B·∫°ch D∆∞∆°ng ‚ôà";
    if ((m==4&&day>=20)||(m==5&&day<=20)) return "Kim Ng∆∞u ‚ôâ";
    if ((m==5&&day>=21)||(m==6&&day<=20)) return "Song T·ª≠ ‚ôä";
    if ((m==6&&day>=21)||(m==7&&day<=22)) return "C·ª± Gi·∫£i ‚ôã";
    if ((m==7&&day>=23)||(m==8&&day<=22)) return "S∆∞ T·ª≠ ‚ôå";
    if ((m==8&&day>=23)||(m==9&&day<=22)) return "X·ª≠ N·ªØ ‚ôç";
    if ((m==9&&day>=23)||(m==10&&day<=22)) return "Thi√™n B√¨nh ‚ôé";
    if ((m==10&&day>=23)||(m==11&&day<=21)) return "B·ªç C·∫°p ‚ôè";
    if ((m==11&&day>=22)||(m==12&&day<=21)) return "Nh√¢n M√£ ‚ôê";
    if ((m==12&&day>=22)||(m==1&&day<=19)) return "Ma K·∫øt ‚ôë";
    if ((m==1&&day>=20)||(m==2&&day<=18)) return "B·∫£o B√¨nh ‚ôí";
    if ((m==2&&day>=19)||(m==3&&day<=20)) return "Song Ng∆∞ ‚ôì";
    return "Ch∆∞a bi·∫øt üåü";
}
// === DIARY ===
let diary = JSON.parse(localStorage.getItem('loveDiary')) || [];

function renderDiary() {
    const list = document.getElementById('diaryList');
    list.innerHTML = '';
    diary.sort((a,b) => new Date(b.timestamp) - new Date(a.timestamp));
    diary.forEach((e,i) => {
        const div = document.createElement('div');
        div.className = 'diary-entry';
        div.innerHTML = `
            <div class="diary-date">${new Date(e.timestamp).toLocaleString('vi-VN')}</div>
            <p>${e.text.replace(/\n/g,'<br>')}</p>
            <button class="delete-btn" onclick="deleteDiary(${i})">√ó</button>
        `;
        list.appendChild(div);
    });
}

function saveDiary(auto=false){
    const t = document.getElementById('diaryInput').value.trim();
    if(!t) return;
    diary.push({text:t, timestamp:new Date().toISOString()});
    localStorage.setItem('loveDiary', JSON.stringify(diary));
    renderDiary();
    launchConfetti();
    if(!auto){
        document.getElementById('diaryInput').value = '';
        alert('ƒê√£ l∆∞u k·ª∑ ni·ªám ng·ªçt ng√†o! üíï');
    }
}

function deleteDiary(i){
    if(confirm('X√≥a k·ª∑ ni·ªám n√†y th·∫≠t sao? üò¢')){
        diary.splice(i,1);
        localStorage.setItem('loveDiary', JSON.stringify(diary));
        renderDiary();
    }
}

let debounce;
document.getElementById('diaryInput').addEventListener('input', () => {
    clearTimeout(debounce);
    debounce = setTimeout(() => saveDiary(true), 1000);
});

// === LOAD ===
window.onload = () => {
    document.getElementById('startDate').value = localStorage.getItem('startDate') || '';
    document.getElementById('name1').value = localStorage.getItem('name1') || '';
    document.getElementById('name2').value = localStorage.getItem('name2') || '';
    document.getElementById('gender1').value = localStorage.getItem('gender1') || 'nam';
    document.getElementById('gender2').value = localStorage.getItem('gender2') || 'nu';
    document.getElementById('birth1').value = localStorage.getItem('birth1') || '';
    document.getElementById('birth2').value = localStorage.getItem('birth2') || '';
    document.getElementById('province').value = localStorage.getItem('provinceNy') || '';

    setSeasonBackground();
    calculateDays();
    renderDiary();
};
</script>
</body>
</html>
